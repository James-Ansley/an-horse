<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>An Horse</title>
  <style>
      :root, html, body {
          margin: 0;
          box-sizing: border-box;
          overflow: hidden;
          height: 100%;
          width: 100%;
      }

      #horse {
          font-size: 1rem;
          position: absolute;
          display: block;
          padding: 0;
          margin: 0;
      }
  </style>
</head>
<body>

<pre id="horse">
            .''
  ._,-､___,' (`\
 //(        ( `'
'/ )\ )､__, )
' <' `\ ._/`\
   `   \     \
</pre>

<script>
    let x = 0;
    let y = 0;
    let dirX = 1;
    let dirY = 1;
    const speed = 0.5;

    let rotation = 0;
    let dirRot = 1;
    const maxRotation = 3;

    let horse = document.getElementById("horse");
    const horseWidth = horse.clientWidth;
    const horseHeight = horse.clientHeight;

    function animate() {
        const screenHeight = document.body.clientHeight;
        const screenWidth = document.body.clientWidth;

        if (y + horseHeight >= screenHeight) {
            dirY = -1
        } else if (y < 0) {
            dirY = 1
        }

        if (x + horseWidth > screenWidth) {
            dirX = -1
        } else if (x < 0) {
            dirX = 1
        }

        let rotationDelta = Math.random() * 0.2;
        if (rotation > maxRotation) {
            dirRot = -1;
        } else if (rotation < -maxRotation) {
            dirRot = 1;
        }
        rotation += rotationDelta * dirRot;

        if (dirX < 0) {
            horse.style.transform = `scaleX(-1) rotate(${rotation}deg)`;
        } else {
            horse.style.transform = `rotate(${rotation}deg)`;
        }

        let xWobble = Math.random() - 0.5;
        let yWobble = Math.random() - 0.5;

        x += dirX * speed + xWobble;
        y += dirY * speed + yWobble;
        horse.style.left = x + "px";
        horse.style.top = y + "px";
        window.requestAnimationFrame(animate);
    }

    window.requestAnimationFrame(animate);
</script>
</body>
</html>
